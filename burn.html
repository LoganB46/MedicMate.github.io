<!DOCTYPE html>
 <html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width-device-width, initial-scare=1">
        <title>Burn Calculator</title>
        <link rel="icon" type="image/png" href="favicon.png">
        <link rel="apple-touch-icon" href="favicon.png">
        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <link href="css/burn.css" rel="stylesheet"/>
        <script src="js/bootstrap.bundle.js"></script>
    </head>

    <body>
        <div id="header">
        <header>
            <div class="container">
                <div class="row">
                 <div class="col-xxlg-6">
                     <div id="header">
                      <h1>Medic Mate</h1>
                      </div>
                     </div>
                </div>
        </header>
        </div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom">
    <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Home</a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#mainNav"
      aria-controls="mainNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <!-- <li class="nav-item"><a class="nav-link" href="calculators.html">Calculators</a></li> -->
        <!-- Optional dropdown for “Calculators” -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="calculatorsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Calculators
          </a>
          <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="calculatorsDropdown">
            <li><a class="dropdown-item active" href="burn.html">Burn Calculator</a></li>
            <li><a class="dropdown-item" href="drugcalc.html">Drug Calculator</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="emsa.html">EMSA Score</a></li>
            <li><a class="dropdown-item" href="gcs.html">GCS Calculator</a></li>
            <li><a class="dropdown-item" href="weight.html">Ideal Body Weight Calculator</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="directory.html">Hospital Directory</a></li>
        <li class="nav-item"><a class="nav-link" href="divert.html">Diversion</a></li>
        <li class="nav-item"><a class="nav-link" href="protocols.html">Protocols</a></li>
        <li class="nav-item"><a class="nav-link" href="worksheet.html">Call Worksheet</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        
        </ul>
        </div>
    </div>
    </nav>

        
        <h1>Total Body Surface Area (TBSA) Burn Calculator</h1>
    <p>Click on the areas of the body that are burned.</p>

    <div class="image-container">
        <img src="img/burns_image.png" usemap="#image-map" alt="Body Diagram" id="burnImage">
        <canvas id="highlightCanvas"></canvas>
    </div>

    <map name="image-map">
        <area shape="poly" coords="69,99,83,94,97,89,106,85,117,90,131,91,146,90,157,90,165,93,172,101,174,122,173,133,173,143,173,158,170,173,170,190,169,206,153,208,136,209,121,209,105,209,90,209,82,209,81,198,78,186,78,174,76,160,76,146,78,130,74,112" alt="Chest" onclick="toggleBurn('chest', 9)">
        <area shape="poly" coords="70,98,56,116,51,145,54,166,48,206,41,247,35,279,17,315,32,338,39,344,49,340,55,331,65,330,55,287,61,262,70,236,78,212,77,178,73,143,76,130,73,114,73,106" alt="Left Arm" onclick="toggleBurn('left-arm', 4.5)">
        <area shape="poly" coords="173,99,189,102,196,115,200,135,199,155,197,171,197,191,202,207,205,234,209,263,209,287,219,303,228,319,213,313,212,336,205,343,192,347,186,339,177,332,184,311,190,292,190,269,182,254,174,235,170,219,173,198,175,183,174,164,177,143,173,119" alt="Right Arm" onclick="toggleBurn('right-arm', 4.5)">
        <area shape="poly" coords="127,305,132,295,139,286,150,278,161,271,170,267,177,266,179,280,179,297,177,309,176,327,169,345,165,364,161,380,157,398,153,417,153,433,153,448,153,464,149,480,144,500,141,516,143,530,142,546,147,562,147,572,137,578,125,578,116,569,117,560,117,544,117,525,119,508,121,490,121,474,121,459,121,444,124,432,121,422,120,408,123,391,125,377,126,365,126,353,126,340,125,324" alt="Left Leg" onclick="toggleBurn('left-leg', 9)">
        <area shape="poly" coords="73,263,83,266,90,272,98,277,105,284,110,289,117,293,122,302,124,314,122,328,121,344,120,358,119,372,117,388,117,400,117,411,119,419,114,428,114,440,114,453,116,464,113,478,111,489,110,501,110,515,110,528,109,540,109,552,111,563,106,570,97,573,88,572,77,568,82,556,85,541,89,526,89,514,87,499,83,481,80,460,81,438,85,418,85,402,83,389,78,378,75,367,71,355,70,344,69,329,69,316,69,302,69,289,71,277" alt="Right Leg" onclick="toggleBurn('right-leg', 9)">
        <area shape="poly" coords="129,2,149,9,161,38,157,52,149,69,149,91,125,95,110,85,109,67,106,54,97,49,101,34,102,18,113,7" alt="Face" onclick="toggleBurn('face', 4.5)">
        <area shape="poly" coords="106,280,113,270,123,267,133,267,139,273,146,280,137,292,127,300,117,295,111,288" alt="Genitals" onclick="toggleBurn('genitals', 1)">
        <area shape="poly" coords="84,209,99,209,114,209,129,208,144,208,160,208,166,208,168,223,171,244,175,261,165,269,153,277,145,280,137,269,125,266,113,269,106,275,101,282,89,273,80,265,73,264,75,250,79,236,81,221" alt="Abdomen" onclick="toggleBurn('abdomen', 9)">
        <area shape="poly" coords="356,7,371,10,379,20,380,35,384,48,378,61,374,71,379,84,363,84,345,84,334,85,333,71,327,56,329,40,334,16" alt="Back of Head" onclick="toggleBurn('head-back', 4.5)">
        <area shape="poly" coords="407,99,420,109,424,125,425,142,425,158,425,174,425,189,429,201,432,215,434,232,434,251,434,265,438,279,447,290,451,302,447,309,445,326,437,334,429,338,417,329,417,317,417,303,417,290,417,278,414,263,408,251,404,239,401,227,401,215,401,203,397,193,397,179,400,167,402,148,403,132,405,116" alt="Right Arm Back" onclick="toggleBurn('rarm-back', 4.5)">
        <area shape="poly" coords="287,108,280,115,276,125,280,142,280,156,278,168,277,180,277,196,275,204,269,213,265,226,265,241,265,255,263,270,260,284,254,293,246,304,243,312,254,311,253,324,256,336,264,342,273,339,283,333,282,317,285,308,284,299,282,288,284,276,288,264,291,255,294,247,298,236,301,225,303,211,306,200,305,181,302,167,300,152,300,138,297,124,293,115" alt="Left Arm Back" onclick="toggleBurn('larm-back', 4.5)">
        <area shape="poly" coords="287,108,297,102,309,96,318,91,328,88,339,86,353,83,365,83,373,84,380,89,388,91,397,94,404,98,404,107,402,118,401,131,400,142,400,156,398,168,396,178,395,190,395,201,393,207,382,206,368,206,354,206,338,206,325,205,315,205,309,204,305,188,303,174,302,162,301,146,297,130,294,117" alt="Upper Back" onclick="toggleBurn('upper-back', 9)">
        <area shape="poly" coords="309,206,318,206,328,206,338,206,349,206,361,207,369,207,384,207,392,207,393,220,394,231,397,242,401,251,402,263,404,276,401,290,391,301,379,306,361,306,350,301,341,306,330,307,319,303,309,298,301,293,295,285,293,270,297,256,300,239,303,226,306,213" alt="Buttocks" onclick="toggleBurn('buttocks', 9)">
        <area shape="poly" coords="351,301,360,304,369,304,377,304,385,302,393,295,399,284,404,276,405,308,405,327,399,347,394,365,391,388,388,402,388,417,387,433,386,448,383,466,379,483,377,496,380,509,379,520,380,537,384,558,373,572,357,580,351,572,349,550,353,536,358,516,354,504,359,490,357,476,353,464,352,449,356,428,357,416,353,404,353,387,356,369,353,351,350,339,349,318" alt="Right Leg Back" onclick="toggleBurn('rleg-back', 9)">
        <area shape="poly" coords="350,303,350,316,349,334,347,348,343,367,347,381,348,398,343,411,343,416,350,431,350,445,348,458,342,474,342,487,344,499,341,511,343,528,347,546,346,565,340,576,329,574,317,565,317,547,321,526,320,514,321,497,319,482,313,467,312,447,313,430,313,414,312,394,307,375,301,361,298,349,297,337,294,322,293,308,293,294,292,282,301,292,313,298,324,304,337,304" alt="Left Leg Back" onclick="toggleBurn('lleg-back', 9)">
    </map>

    <button onclick="calculateTBSA()">Calculate TBSA</button>
    <button onclick="clearSelections()">Clear Selections</button>

    <div id="result"></div>

    <script>
        const burnAreas = {
            'face': 4.5,
            'chest': 9,
            'left-arm': 4.5,
            'right-arm': 4.5,
            'left-leg': 9,
            'right-leg': 9,
            'abdomen': 9,
            'genitals': 1,
            'head-back': 4.5,
            'rarm-back': 4.5,
            'larm-back': 4.5,
            'upper-back': 9,
            'buttocks':  9,
            'rleg-back': 9,
            'lleg-back': 9

        };

        const selectedAreas = {};

        function toggleBurn(area, value) {
            if (selectedAreas[area]) {
                delete selectedAreas[area];
            } else {
                selectedAreas[area] = value;
            }
            drawHighlights();
        }

        function calculateTBSA() {
            let totalBurn = 0;
            for (let area in selectedAreas) {
                totalBurn += selectedAreas[area];
            }
            document.getElementById('result').innerText = "Total Body Surface Area Burned: " + totalBurn + "%";
        }

        function clearSelections() {
            for (let area in selectedAreas) {
                delete selectedAreas[area];
            }
            drawHighlights();
            document.getElementById('result').innerText = "";
        }

        function drawHighlights() {
            const img = document.getElementById('burnImage');
            const canvas = document.getElementById('highlightCanvas');
            const context = canvas.getContext('2d');

            canvas.width = img.width;
            canvas.height = img.height;
            context.clearRect(0, 0, canvas.width, canvas.height);

            context.fillStyle = 'rgba(255, 0, 0, 0.5)';

            for (let area in selectedAreas) {
                const coords = document.querySelector(`area[alt="${area.replace('-', ' ')}"]`).coords.split(',').map(Number);
                context.beginPath();
                context.moveTo(coords[0], coords[1]);
                for (let i = 2; i < coords.length; i += 2) {
                    context.lineTo(coords[i], coords[i + 1]);
                }
                context.closePath();
                context.fill();
            }
        }
    </script>
        </body>
        </html>